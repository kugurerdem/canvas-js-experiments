<canvas id="myCanvas" width="300" height="150" style="border:1px solid #d3d3d3;">
<script>
	
	var c = document.getElementById("myCanvas");
	var ctx = c.getContext("2d");
	
	var angle = 0;
	function loop(){
		
		ctx.clearRect(0,0,300,150);
		ctx.save();
		ctx.translate(150, 75);
		ctx.rotate(angle);
		ctx.fillStyle = "black";
		ctx.fillRect(-25, -25, 50, 50);
		ctx.restore();
		
		ctx.save();
		ctx.translate(150,75);
		ctx.rotate(-angle);
		ctx.fillStyle = "red";
		ctx.fillRect(-13,-13,25,25);
		ctx.restore();
		
		angle+=0.01;
		
		ctx.save();
		ctx.translate(150,75);
		ctx.rotate( Math.PI / 4);
		ctx.fillStyle = "white";
		ctx.fillRect(-3,-3,6,6);
		ctx.restore();
		
		setTimeout(function(){ loop();},1000/60);
	}
	
	loop();
</script>